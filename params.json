{"name":"Baidutemplate","body":"百度JS模板引擎 baiduTemplate 1.0 版\r\n==========================\r\n\r\n##一、baiduTemplate 简介\r\n\r\n####baiduTemplate希望创造一个用户觉得“简单好用”的JS模板引擎\r\n\r\n###1、应用场景：\r\n\t前端使用的模板系统  或  后端Javascript环境发布页面\r\n\r\n###2、功能概述：\r\n\t提供一套模板语法，用户可以写一个模板区块，每次根据传入的数据，\r\n\t生成对应数据产生的HTML片段，渲染不同的效果。\r\n\r\n###3、特性：\r\n\t1、语法简单，学习成本极低，开发效率提升很大，性价比较高（使用Javascript原生语法）；\r\n\t2、默认HTML转义（防XSS攻击），并且支持包括URL转义等多种转义；\r\n\t3、变量未定义自动输出为空，防止页面错乱；\r\n\t3、功能强大，如分隔符可自定等多种功能；\r\n\r\n##二、基本用法\r\n\r\n###1、放置模板片段：\r\n\r\n####页面中，模板块可以放在 &lt;script&gt; 中，设置type属性为text/template或text/html，用id标识，如：\r\n\r\n\t<script id='tpl' type=\"text/template\">\r\n\t<!-- 模板部分 -->\r\n\r\n\t<!-- 模板结束 -->\t\r\n\t</script>\r\n\r\n####或者存放在 &lt;textarea&gt; 中，一般情况设置其CSS样式display:none来隐藏掉textarea，同样用id标识，如：\r\n\r\n\t<textarea id='tpl' style='display:none;'>\r\n\t<!-- 模板部分 -->\r\n\r\n\t<!-- 模板结束 -->\t\r\n\t</textarea>\r\n\r\n####模板也可以直接存储在一个变量中\r\n\r\n\tvar tpl = \"<!-- 模板开始 --> 模板内容 <!-- 模板结束 -->\";\r\n\r\n###2、调用引擎方式\r\n\r\n####数据结构是一个JSON，如：\r\n\r\n\tvar data={\r\n\t\ttitle:'baiduTemplate',\r\n\t\tlist:['test1','test2','test3']\r\n\t}\r\n\r\n####baiduTemplate占用baidu.template命名空间\r\n\r\n\t//可以付值给一个短名变量使用\r\n\tvar bt = baidu.template;\r\n\r\n####tpl是传入的模板(String类型)，可以是模板的id，可以是一个模板片段字符串，传入模板和对应数据返回对应的HTML片段\r\n\r\n\tvar html0 = baidu.template(tpl,data);\r\n\r\n####或者可以只传入tpl，这时返回的是一个编译后的函数，可以把这个函数缓存下来，传入不同的data就可以生成不同的HTML片段\r\n\r\n\tvar fun = baidu.template(tpl);\r\n\tvar html1 = fun(data1);\r\n\tvar html2 = fun(data2);\r\n\r\n####最后将他们插入到一个容器中即可\r\n\r\n\tdocument.getElementById('result0').innerHTML=html0;\r\n\tdocument.getElementById('result1').innerHTML=html1;\r\n\tdocument.getElementById('result2').innerHTML=html2;\r\n\r\n###3、模板基本语法（默认分隔符为<% %>，也可以自定义）\r\n\r\n####分隔符内语句为js语法，如：\r\n\r\n\t<% var test = function(){\r\n\t\t//函数体\r\n\t};\r\n\tif(1){}else{};\r\n\tfunction testFun(){\r\n\t\treturn;\r\n\t};\r\n\t%>\r\n\r\n####假定事先设置数据为\r\n\r\n\tvar data={\r\n\t\ttitle:'baiduTemplate',\r\n\t\tlist:['test1<script>','test2','test3']\r\n\t}\r\n\r\n####注释\r\n\t\r\n\t<!-- 模板中可以用HTML注释 -->  或  <%* 这是模板自带注释格式 *%>\r\n\r\n\t<% //分隔符内支持JS注释  %>\r\n\t\r\n####输出一个变量\r\n\r\n\t//默认HTML转义，如果变量未定义输出为空\r\n\t<%=title%>  \r\n\r\n\t//不转义\r\n\t<%:=title%> 或 <%-title%>\r\n\r\n\t//URL转义，UI变量使用在模板链接地址URL的参数中时需要转义\r\n\t<%:u=title%>\r\n\r\n\t//UI变量使用在HTML页面标签onclick等事件函数参数中需要转义\r\n\t//“<”转成“&lt;”、“>”转成“&gt;”、“&”转成“&amp;”、“'”转成“\\&#39;”\r\n\t//“\"”转成“\\&quot;”、“\\”转成“\\\\”、“/”转成“\\/”、\\n转成“\\n”、\\r转成“\\r”\r\n\t<%:v=title%>\r\n\r\n\t//HTML转义（默认自动）\r\n\t<%=title%> 或 <%:h=title%>\r\n\r\n####判断语句\r\n\r\n\t<%if(list.length){%>\r\n\t\t<h2><%=list.length%></h2>\r\n\t<%}else{%>\r\n\t\t<h2>list长度为0<h2>\r\n\t<%}%>\r\n\r\n####循环语句\r\n\r\n\t<%for(var i=0;i<list.length;i++){%>\r\n\t\t\t<li><%=list[i]%></li>\r\n\t<%}%>\r\n\r\n###4、不推荐使用功能\r\n\r\n####用户可以自定义分隔符，默认为 <% %>，如：\r\n\t\r\n\t//设置左分隔符为 <!\r\n\tbaidu.template.LEFT_DELIMITER='<!';\r\n\r\n\t//设置右分隔符为 <!\t\r\n\tbaidu.template.RIGHT_DELIMITER='!>';\r\n\r\n\r\n##三、使用举例\r\n\r\n\t//index.html\r\n\t<!doctype html>\r\n\t<html>\r\n\t<head>\r\n\t<meta charset=\"utf-8\"/>\r\n\t<title>test</title>\r\n\r\n\t<!-- 引入baiduTemplate -->\r\n\t<script type=\"text/javascript\" src=\"./baiduTemplate.js\"></script>\r\n\r\n\t</head>\r\n\t<body>\r\n\t<div id='result'></div>\r\n\r\n\t<!-- 模板1开始，可以使用script（type设置为text/html）来存放模板片段，并且用id标示 -->\r\n\t<script id=\"t:_1234-abcd-1\" type=\"text/html\">\r\n\t<div>\r\n\t\t<!-- 我是注释，语法均为Javascript原生语法，默认分割符为 <% %> ，也可以自定义，参见API部分 -->\r\n\t\t<!-- 输出变量语句，输出title -->\r\n\t\t<h1>title:<%=title%></h1>\r\n\t\t<!-- 判断语句if else-->\r\n\t\t<%if(list.length>1) { %>\r\n\t\t\t<h2>输出list，共有<%=list.length%>个元素</h2>\r\n\t\t\t<ul>\r\n\t\t\t\t<!-- 循环语句 for-->\r\n\t\t\t\t<%for(var i=0;i<5;i++){%>\r\n\t\t\t\t\t<li><%=list[i]%></li>\r\n\t\t\t\t<%}%>\r\n\t\t\t</ul>\r\n\t\t<%}else{%>\r\n\t\t\t<h2>没有list数据</h2>\t\r\n\t\t<%}%>\r\n\t</div>\t\r\n\t</script>\r\n\t<!-- 模板1结束 -->\r\n\r\n\t<!-- 使用模板 -->\r\n\t<script type=\"text/javascript\">\r\n\tvar data={\r\n\t\t\"title\":'欢迎使用baiduTemplate',\r\n\t\t\"list\":[\r\n\t\t\t'test1:默认支持HTML转义，如输出<script>，也可以关掉，语法<:=value> 详见API',\r\n\t\t\t'test2:',\r\n\t\t\t'test3:',\r\n\t\t\t'test4:list[5]未定义，模板系统会输出空'\r\n\t\t]\r\n\t};\r\n\r\n\t//使用baidu.template命名空间\r\n\tvar bt=baidu.template;\r\n\r\n\t//可以设置分隔符\r\n\t//bt.LEFT_DELIMITER='<!';\r\n\t//bt.RIGHT_DELIMITER='!>';\r\n\r\n\t//最简使用方法\r\n\tvar html=bt('t:_1234-abcd-1',data);\r\n\r\n\t//渲染\r\n\tdocument.getElementById('result').innerHTML=html;\r\n\t</script>\r\n\r\n\t</body>\r\n\t</html>","tagline":"baiduTemplate — JS模板引擎","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}